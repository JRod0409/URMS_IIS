{% extends 'homebase.html' %}

{% load static %}

{% block title %}Home{% endblock %}

{% block content %}

<style>
.top-song-this-week {
    background-color: #FFFFFF;
    display: flex;
    flex-direction: row;
    width: 100% !important;
    height: auto;
    padding-left: 9%;
    padding-right: 9%;
    padding-top: 50px;
    padding-bottom: 50px;
}

.top-song-this-week-left {
    width: 50% !important;
    display: flex;
    justify-content: center;
}

.top-song-this-week-right {
    margin: 0 auto;
    padding: 0px;
    width: 50%;
    height: auto;
    display: flex;
    justify-content: center;
}

.second-bg {
    background-color: #C3c3c3;
}

</style>


    <div class="top-song-this-week">
        <div class="top-song-this-week-left">
        
    <div class="row" style="height: auto; padding-top: 10%; padding-bottom: 10%; width: 75%;">
        <div>
            <h2 style="font-size: 2.2em; margin-left: 0px;">Top Song This Week</h2>
            {% if top_song %}
                <p style="margin: 0px;"><strong>Title:</strong> {{ top_song.title }}</p>
                <p style="margin: 0px;"><strong>Artist:</strong> {{ top_song.artist.name }}</p>
                <p><strong>Score:</strong> {{ top_song.currentRating }} ‚≠ê</p>
            {% else %}
                <p>No top song available this week.</p>
            {% endif %}
        </div>
         <!-- Action Buttons -->
        <div style="flex-direction: row;">
            <div>
                {% if top_song and top_song.id %}
                <a href="#" class="btn" style="background-color: #252525; color: #ffffff; width: 15%;"><strong>View</strong></a>
                <a href="{% url 'rate_song' top_song.id %}" class="btn" style="background-color: #c3c3c3; color: #252525; width: 15%;"><strong>Rate</strong></a>
                {% else %}
                <p> No top song available!</p>
                {% endif %}
            </div>
        </div>
        
    </div>
    </div>

    
    <div class="top-song-this-week-right">
        {% if top_song and top_song.album_art_url %}
            <img src="{{ top_song.album_art_url }}" alt="Album Art" style="width: 50% !important; height: auto !important;" class="img-fluid rounded top-song-this-week-right-img">
        {% else %}
            <img src="{% static 'default_album_art.jpg' %}" alt="Album Art" class="img-fluid rounded top-song-this-week-right-img">
        {% endif %}
    </div>
    </div>

    <div class="top-artists-this-week" style="background-color: #c3c3c3; padding: 50px 9%;">
        <h2 style="font-size: 2.2em; text-align: center;">Top Artists This Week</h2>
    
        {% if top_artists %}
        <div class="row" style="display: flex; justify-content: space-around; margin-top: 30px;">
            {% for artist in top_artists %}
            <div class="col-md-3 text-center" style="flex: 1; margin: 10px;">
                <div style="background-color: #f7f7f7; border-radius: 10px; padding: 20px; height: 100%;">
                    <h3 style="font-size: 1.5em;">{{ artist.name }}</h3>
                    {% if artist.birthplace == false %}
                        <p><strong>Birthplace:</strong> {{ artist.birthplace }}</p>
                    {% endif %}
                    {% if artist.artist_fact %}
                        <p><strong>Fun Fact:</strong> {{ artist.artist_fact }}</p>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <p style="text-align: center;">No top artists available this week.</p>
        {% endif %}
    </div>

    <!--Daily Song Lineup (Title and Button)-->
    <div class="daily-song-lineup-left" style="text-align: center;">
        <h2 style="font-size: 2.2em;">Daily Song Lineup</h2>

        <div class="mb-5" style="flex-direction: row;">
            {% if top_song and top_song.id %}
            <a href="{% url 'rate_song' top_song.id %}" class="btn" style="background-color: #252525; color: #ffffff; width: 15%;"><strong>Start Lineup</strong></a>
            {% else %}
            <p> There is no top song available for the line up! </p>
            {% endif %}

        </div>
    </div>


    
{% endblock %}
</div>
</body>
</html>